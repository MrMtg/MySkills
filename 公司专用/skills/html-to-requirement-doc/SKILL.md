---
name: html-to-requirement-doc
description: 从HTML文件逆向生成需求文档，提取前端布局结构、API数据调用、核心数据结构、前端渲染要点
---

# HTML 需求文档生成器

从HTML文件自动提取分析，生成标准化的需求文档.md文件。

## 触发方式

用户说：
- "把xx.html生成需求文档"
- "根据这个HTML写需求文档"
- "分析这个HTML并生成需求文档"

## 输入

- 一个HTML文件路径

## 输出

生成 `xx需求文档.md` 文件，包含以下章节：

### 一、项目概述
- 1.1 项目背景
- 1.2 技术栈（Vue版本、构建方式、依赖库、适配方案）

### 二、页面布局结构（2.1 整体结构树）
```
┌─────────────────────────────────────────────────────────┐
│  #app 根容器                                             │
├─────────────────────────────────────────────────────────┤
│  ┌─────────────────────────────────────────────────┐   │
│  │  模块名称 (class-name)                           │   │
│  │  ├── 子模块 (child-class)                       │   │
│  │  └── 内容描述                                   │   │
│  └─────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────┘
```

### 三、API数据结构
- 3.1 各数据接口的JSON结构
- 3.2 字段说明

### 四、数据渲染逻辑
- 4.x 各模块的HTML渲染代码示例

### 五、核心数据结构表格
当识别到类似特征列表、选项列表等重复性数据时，生成表格：

| 序号 | 字段名称 | 详细描述 | 可能状态/取值 |
|:---:|:---------|:---------|:-------------|
| 1 | 字段名     | 描述     | 取值         |
| 2 | ...       | ...      | ...          |

### 六、CSS类名说明（可选）

### 七、功能需求列表

## 执行步骤

1. **读取HTML文件** - 使用Read工具读取指定HTML文件

2. **分析结构** - 提取DOM层级关系，生成结构树

3. **提取数据绑定** - 查找 `{{ }}`、`v-for`、`:src` 等Vue指令，推断数据结构

4. **提取API调用** - 查找 `axios`、`fetch`、`$api` 等调用，分析接口

5. **生成文档** - 按模板格式生成markdown文档

## 分析要点

### 前端布局结构
- 根容器 (#app)
- 一级模块（卡片、容器）
- 二级子模块（列表项、详情）
- 叶子节点（文本、图片）

### API数据调用
- 接口URL/方法
- 请求参数
- 响应数据结构
- 数据使用位置

### 核心数据结构
- 列表型数据 (v-for)
- 对象型数据 ({{ object.field }})
- 条件型数据 (v-if/v-show)
- 计算属性 (computed)

### 前端渲染要点
- 列表渲染方式
- 条件渲染逻辑
- 数据绑定格式
- 特殊处理（如"未能清晰识别"）

## 输出模板

```markdown
# {页面名称}需求文档

## 一、项目概述

### 1.1 项目背景
{描述页面功能和用途}

### 1.2 技术栈
- **前端框架**: Vue x.x
- **构建方式**: {单页面/组件化}
- **依赖库**: {列举}
- **适配方案**: {rem/px}

---

## 二、页面布局结构

### 2.1 整体结构树

```
{结构树图}
```

---

## 三、API数据结构

### 3.1 {数据模块名称}

```json
{
  "字段": "说明",
  "nested": {
    "field": "说明"
  }
}
```

---

## 四、数据渲染逻辑

### 4.x {模块名称}

```html
{HTML代码示例}
```

---

## 五、核心数据结构

| 字段 | 说明 | 取值 |
|:-----|:-----|:-----|
| ...  | ...  | ...  |

---

*文档版本: v1.0*
*生成日期: {日期}*
```

## 注意事项

1. 保持原HTML的class命名
2. 推断的JSON结构要标注"推测"
3. 列表型数据用表格展示
4. 结构树要清晰体现层级关系
